<form (ngSubmit)="login()" class="flex flex-col gap-4">
  <mat-form-field appearance="outline" class="w-full">
    <mat-label>ğŸ“§ Email</mat-label>
    <input matInput type="email" [(ngModel)]="email" name="email" required />
  </mat-form-field>

  <mat-form-field appearance="outline" class="w-full">
    <mat-label>ğŸ” Mot de passe</mat-label>
    <input matInput type="password" [(ngModel)]="password" name="password" required />
  </mat-form-field>

  @if (errorMessage) {
    <div class="bg-red-100 border-l-4 border-red-500 text-red-700 p-3 rounded-lg text-sm flex items-start gap-2">
      <mat-icon class="text-red-500 mt-0.5">error_outline</mat-icon>
      <span>{{ errorMessage }}</span>
    </div>
  }

  <button mat-raised-button color="primary" type="submit" [disabled]="isLoading" class="w-full font-bold py-3 rounded-lg hover:shadow-lg transition-all duration-300">
    @if (!isLoading) {
      <span>âœ“ Se connecter</span>
    } @else {
      <span class="flex items-center justify-center gap-2">
        <mat-spinner diameter="20"></mat-spinner>
        Connexion en cours...
      </span>
    }
  </button>
</form>
